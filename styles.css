:root{
  --bg:#0b1220; --surface:#0f1a2b; --ink:#e6f0ff; --muted:#9db3cc;
  --accent:#2ec4b6; --accent2:#6c63ff; --warn:#f59f00; --ok:#12b886; --bad:#e03131;
  --shadow:0 10px 28px rgba(0,0,0,.25); --r:16px;
}

*{box-sizing:border-box; margin:0; padding:0;}

html,body{
  height:100%;
  background:var(--bg);
  color:var(--ink);
  font:16px/1.5 system-ui, Segoe UI, Roboto, Arial, sans-serif;
}

a{color:#8ecae6; text-decoration:none;}
a:hover{text-decoration:underline;}

img{max-width:100%; display:block;}

h2{margin:12px 0 6px; font-size:1.4rem;}
h3{margin:8px 0; font-size:1.2rem;}
h4{font-size:1.1rem; margin:6px 0;}

.app-header{
  display:flex; 
  align-items:center; 
  justify-content:space-between;
  padding:10px 14px;
  background:rgba(255,255,255,.04); 
  backdrop-filter:blur(6px);
  position:sticky;
  top:0;
  z-index:1000;
}

.brand{
  display:flex; 
  gap:10px; 
  align-items:center;
}

.brand img{
  height:28px; 
  width:auto;
}

.nav{
  display:flex; 
  gap:8px; 
  flex-wrap:wrap;
}

.btn{
  background:var(--accent2);
  border:0; 
  color:white; 
  padding:9px 13px; 
  border-radius:12px; 
  box-shadow:var(--shadow); 
  cursor:pointer;
  transition:all .2s ease;
  font-size:14px;
  white-space:nowrap;
}

.btn:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 32px rgba(0,0,0,.3);
}

.btn.ghost{
  background:transparent;
  color:var(--ink);
  border:1px solid rgba(255,255,255,.15);
}

.btn.ghost:hover{background:rgba(255,255,255,.05);}
.btn[disabled]{opacity:.5; cursor:not-allowed; transform:none !important;}
.btn.active{background:var(--accent2); color:#fff; border-color:transparent;}

.banner{
  background:#332600; 
  color:#ffd666; 
  padding:8px 12px; 
  text-align:center;
}

.alert{
  background:#40311a; 
  color:#ffd8a8; 
  padding:8px 10px; 
  border-radius:10px; 
  margin-top:8px;
  font-size:14px;
}

.content{
  padding:12px; 
  display:grid; 
  gap:12px;
  min-height:calc(100vh - 120px);
}

.tab{
  display:none; 
  background:var(--surface); 
  border-radius:var(--r); 
  box-shadow:var(--shadow); 
  padding:16px;
}

.tab.active{display:block;}

.form label{display:block; margin:8px 0 4px; font-weight:500;}
.form input,.form select{
  width:100%; 
  padding:10px; 
  border-radius:10px;
  border:1px solid rgba(255,255,255,.15);
  background:#0c182b;
  color:var(--ink);
  font-size:15px;
  transition:border-color .2s ease;
}
.form input:focus,.form select:focus{outline:none; border-color:var(--accent2);}

.check{display:flex; gap:8px; align-items:center; margin:8px 0; font-size:14px;}
.check input[type="checkbox"]{width:18px; height:18px; accent-color:var(--accent2);}

.grid-2{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
.grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:12px;}

.row{display:flex; gap:12px; align-items:center; flex-wrap:wrap;}
.row.end{justify-content:flex-end;}
.gap{gap:16px;}

.cards{gap:12px;}
.card{
  display:flex; 
  align-items:center; 
  gap:8px; 
  background:rgba(255,255,255,.04); 
  padding:12px; 
  border-radius:12px;
  cursor:pointer;
  transition:background .2s ease;
}
.card:hover{background:rgba(255,255,255,.08);}
.card input{accent-color:var(--accent2); transform:scale(1.1);}

.box{
  background:#0e1c31;
  border-radius:12px;
  padding:12px;
  border:1px solid rgba(255,255,255,.08);
  margin-bottom:12px;
}
.box:last-child{margin-bottom:0;}

.timer{
  font-weight:700;
  font-size:22px;
  padding:6px 12px;
  border-radius:10px;
  background:#041121;
  font-family:monospace;
}

.badge{
  margin-top:6px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.2);
  display:inline-block;
  font-size:14px;
  background:rgba(255,255,255,.05);
}

.scene-360 a-scene{
  width:100%; 
  height:360px; 
  border-radius:12px; 
  overflow:hidden;
}

.legend{
  margin-top:8px;
  display:flex; 
  gap:12px; 
  align-items:center;
  font-size:14px;
  opacity:.9;
  flex-wrap:wrap;
}

.dot{width:12px; height:12px; border-radius:50%; display:inline-block;}
.dot.teal{background:#2ec4b6;}
.dot.purple{background:#6c63ff;}
.dot.amber{background:#f59f00;}

.quiz{display:grid; gap:16px; margin-top:12px;}
.bank,.drop{
  display:flex; 
  gap:10px; 
  flex-wrap:wrap; 
  min-height:100px; 
  padding:12px;
  border:2px dashed rgba(255,255,255,.2);
  border-radius:12px;
  align-items:center;
  justify-content:center;
}
.drop.empty{border-color:var(--accent2); background:rgba(108,99,255,.05);}

.tube{
  width:80px; 
  height:auto; 
  padding:6px; 
  background:rgba(255,255,255,.04); 
  border-radius:10px; 
  box-shadow:var(--shadow); 
  cursor:grab;
  transition:transform .2s ease;
}
.tube:hover{transform:scale(1.05);}
.tube:active{cursor:grabbing; transform:scale(0.95);}

.quiz-actions{display:flex; justify-content:flex-end; gap:10px; margin-top:12px;}
.feedback{min-height:24px; font-weight:600; padding:8px 0; font-size:15px;}
.feedback.ok{color:var(--ok);}
.feedback.bad{color:var(--bad);}

.puzzle{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-top:12px;}
.left .piece,.right .slot{
  padding:12px;
  border-radius:10px;
  border:2px dashed rgba(255,255,255,.15);
  margin-bottom:8px;
  cursor:move;
  transition:all .2s ease;
}
.left .piece{background:rgba(255,255,255,.04); cursor:grab;}
.left .piece:hover{background:rgba(255,255,255,.08); border-color:var(--accent2);}
.right .slot{min-height:52px; display:flex; align-items:center; background:rgba(255,255,255,.02);}
.right .slot.hover{background:rgba(46,196,182,.1); border-color:var(--accent);}
.right .slot.correct{background:rgba(18,184,134,.1); border-color:var(--ok);}

.pill{
  margin-top:8px;
  padding:8px 12px;
  border-radius:999px;
  background:rgba(46,196,182,.12);
  border:1px solid rgba(46,196,182,.4);
  display:inline-block;
  font-size:14px;
}

.chips{display:flex; flex-wrap:wrap; gap:10px; margin:12px 0;}
.chips label{
  background:rgba(255,255,255,.04);
  padding:8px 12px;
  border-radius:999px;
  cursor:pointer;
  transition:background .2s ease;
  font-size:14px;
}
.chips label:hover{background:rgba(255,255,255,.08);}
.chips input[type="checkbox"]{margin-right:6px; accent-color:var(--accent2);}

.audio-controls{margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;}

.app-footer{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 14px;
  background:rgba(255,255,255,.04);
  margin-top:auto;
}
.app-footer .right{display:flex; gap:10px; align-items:center;}
.app-footer .right img{height:22px; width:auto;}
.app-footer small{font-size:12px; opacity:.8;}

dialog{
  background:#0f1a2b;
  color:var(--ink);
  border:1px solid rgba(255,255,255,.2);
  border-radius:12px;
  padding:16px;
  width:min(520px, 96vw);
  max-height:90vh;
  overflow-y:auto;
}
dialog::backdrop{background:rgba(0,0,0,.7); backdrop-filter:blur(4px);}

.tables details{margin-bottom:12px; background:rgba(255,255,255,.03); border-radius:8px; overflow:hidden;}
.tables summary{padding:12px; background:rgba(255,255,255,.05); cursor:pointer; font-weight:500;}
.tables ul{padding:12px; margin:0;}
.tables li{margin-bottom:6px; font-size:14px;}

.tip{opacity:.7; font-size:13px; margin-top:8px; font-style:italic;}

@media (max-width: 980px){
  .grid-2{grid-template-columns:1fr;}
  .grid-3{grid-template-columns:1fr;}
  .puzzle{grid-template-columns:1fr;}
  .scene-360 a-scene{height:280px;}
  .nav{gap:6px; justify-content:center;}
  .btn{padding:8px 10px; font-size:13px;}
  .content{grid-template-columns:1fr !important; gap:8px;}
}

@media (max-width: 768px){
  .app-header{flex-direction:column; gap:12px; padding:12px;}
  .app-footer{flex-direction:column; gap:12px; text-align:center;}
  .brand{justify-content:center;}
  .scene-360 a-scene{height:240px;}
}

@media print {
  .app-header, .app-footer, .nav, .btn {display:none !important;}
  .tab:not(.active) {display:none !important;}
  body {background:white; color:black;}
}
.app-header .brand{gap:14px}
.app-header .brand img{
  height:56px !important;
  width:auto !important;
  opacity:1 !important;
  filter:drop-shadow(0 0 1px rgba(255,255,255,.35));
}
@media (max-width:980px){
  .app-header .brand img{height:48px !important;}
}

.bio-errors{
  display:flex;
  gap:14px;
  padding:14px;
  border-radius:14px;
  background:rgba(255,255,255,.04);
  overflow-x:auto;
  scroll-snap-type:x mandatory;
}
.bio-errors img{
  width:260px;
  height:170px;
  object-fit:cover;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 10px 26px rgba(0,0,0,.38);
  flex:0 0 auto;
  scroll-snap-align:start;
  cursor:pointer;
  transition:transform .15s ease, box-shadow .15s ease;
}
.bio-errors img:hover{
  transform:scale(1.04);
  box-shadow:0 14px 34px rgba(0,0,0,.45);
}
@media (max-width:980px){
  .bio-errors img{width:220px;height:145px;}
}
